var e=globalThis,r={},t={},a=e.parcelRequire2ef1;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in t){var a=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,a.call(o.exports,o,o.exports),o.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){t[e]=r},e.parcelRequire2ef1=a),a.register;var o=a("fmRoT");window.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("loggedInUser")&&(window.location.href="home.html")});const s=document.querySelector(".getstart__backdrop"),n=document.querySelector(".getstart__register"),i=document.querySelector(".register__backdrop"),l=document.querySelector(".getstart__login"),c=document.querySelector(".login__backdrop");n.addEventListener("click",()=>{s.classList.add("change__invisible"),i.classList.remove("change__invisible")}),l.addEventListener("click",()=>{s.classList.add("change__invisible"),c.classList.remove("change__invisible")}),document.querySelector(".register__button").addEventListener("click",async()=>{let e=document.querySelector(".register__name").value,r=document.querySelector(".register__username").value,t=document.querySelector(".register__email").value,a=document.querySelector(".register__password").value;if(a!==document.querySelector(".register__confirm").value){alert("Passwords do not match!");return}try{if((await (0,o.default).get("https://peapods-base.onrender.com/accounts")).data.some(e=>e.username===r||e.email===t)){alert("A user with that username or email already exists.");return}let n=await (0,o.default).post("https://peapods-base.onrender.com/accounts",{name:e,username:r,email:t,password:a});201===n.status&&(alert("Registration successful! Please log in."),s.classList.remove("change__invisible"),i.classList.add("change__invisible"))}catch(e){console.error("Registration error:",e),alert("An error occurred during registration. Please try again.")}}),document.querySelector(".login__button").addEventListener("click",async()=>{let e=document.querySelector(".login__email").value,r=document.querySelector(".login__password").value;try{let t=(await (0,o.default).get("https://peapods-base.onrender.com/accounts")).data.find(t=>t.email===e&&t.password===r);t?(alert("Login successful!"),localStorage.setItem("loggedInUser",JSON.stringify(t)),location.reload()):alert("Invalid email or password. Please try again.")}catch(e){console.error("Login error:",e),alert("An error occurred during login. Please try again.")}});
//# sourceMappingURL=index.ee11cc93.js.map
