window.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("loggedInUser")&&(window.location.href="home.html")});const e=document.querySelector(".getstart__backdrop"),r=document.querySelector(".getstart__register"),t=document.querySelector(".register__backdrop"),o=document.querySelector(".getstart__login"),a=document.querySelector(".login__backdrop");r.addEventListener("click",()=>{e.classList.add("change__invisible"),t.classList.remove("change__invisible")}),o.addEventListener("click",()=>{e.classList.add("change__invisible"),a.classList.remove("change__invisible")}),document.querySelector(".register__button").addEventListener("click",async()=>{let e=document.querySelector(".register__name").value,r=document.querySelector(".register__username").value,t=document.querySelector(".register__email").value,o=document.querySelector(".register__password").value;if(o!==document.querySelector(".register__confirm").value){alert("Passwords do not match!");return}try{let a=await fetch("https://peapods-base.onrender.com/accounts");if((await a.json()).some(e=>e.username===r||e.email===t)){alert("A user with this name or email already exists.");return}let n=await fetch("https://peapods-base.onrender.com/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,username:r,email:t,password:o})});if(n.ok){let e=await n.json();localStorage.setItem("loggedInUser",JSON.stringify(e)),alert("Registration successful! You are now logged in."),window.location.href="home.html"}}catch(e){console.error("Error during registration:",e),alert("An error occurred during registration. Please try again.")}}),document.querySelector(".login__button").addEventListener("click",async()=>{let e=document.querySelector(".login__email").value,r=document.querySelector(".login__password").value;try{let t=await fetch("https://peapods-base.onrender.com/accounts"),o=(await t.json()).find(t=>t.email===e&&t.password===r);o?(alert("Login successful!"),localStorage.setItem("loggedInUser",JSON.stringify(o)),location.reload()):alert("Incorrect email or password. Please try again.")}catch(e){console.error("Error during login:",e),alert("An error occurred during login. Please try again.")}});
//# sourceMappingURL=index.d15e4a9a.js.map
