var e=globalThis,t={},r={},a=e.parcelRequire2ef1;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequire2ef1=a),a.register;var o=a("fmRoT");window.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("loggedInUser")&&(window.location.href="home.html")});const n=document.querySelector(".getstart__backdrop"),l=document.querySelector(".getstart__register"),s=document.querySelector(".register__backdrop"),c=document.querySelector(".getstart__login"),i=document.querySelector(".login__backdrop");l.addEventListener("click",()=>{n.classList.add("change__invisible"),s.classList.remove("change__invisible")}),c.addEventListener("click",()=>{n.classList.add("change__invisible"),i.classList.remove("change__invisible")}),document.querySelector(".register__button").addEventListener("click",async()=>{let e=document.querySelector(".register__name").value,t=document.querySelector(".register__username").value,r=document.querySelector(".register__email").value,a=document.querySelector(".register__password").value;if(a!==document.querySelector(".register__confirm").value){alert("Пароли не совпадают!");return}try{if((await (0,o.default).get("https://peapods-base.onrender.com/accounts")).data.some(e=>e.username===t||e.email===r)){alert("Пользователь с таким именем или email уже существует.");return}let l=await (0,o.default).post("https://peapods-base.onrender.com/accounts",{name:e,username:t,email:r,password:a});201===l.status&&(alert("Регистрация успешна! Пожалуйста, залогиньтесь."),n.classList.remove("change__invisible"),s.classList.add("change__invisible"))}catch(e){console.error("Ошибка при регистрации:",e),alert("Произошла ошибка при регистрации. Пожалуйста, попробуйте снова.")}}),document.querySelector(".login__button").addEventListener("click",async()=>{let e=document.querySelector(".login__email").value,t=document.querySelector(".login__password").value;try{let r=(await (0,o.default).get("https://peapods-base.onrender.com/accounts")).data.find(r=>r.email===e&&r.password===t);r?(alert("Вход успешен!"),localStorage.setItem("loggedInUser",JSON.stringify(r)),location.reload()):alert("Неверный email или пароль. Пожалуйста, попробуйте снова.")}catch(e){console.error("Ошибка при входе:",e),alert("Произошла ошибка при входе. Пожалуйста, попробуйте снова.")}});
//# sourceMappingURL=index.05ef5d97.js.map
