var e=globalThis,t={},r={},n=e.parcelRequire2ef1;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequire2ef1=n),n.register;var o=n("fmRoT");async function a(){let e=JSON.parse(localStorage.getItem("loggedInUser"));e&&(document.getElementById("profileAvatar").src=e.avatar||"./images/default-avatar.png",document.getElementById("name").value=e.name,document.getElementById("username").value=e.username)}async function l(e){e.preventDefault();let t=document.getElementById("name").value,r=document.getElementById("username").value,n=document.getElementById("password").value,a=JSON.parse(localStorage.getItem("loggedInUser"));if(a)try{let e={...a,name:t,username:r,password:n};await (0,o.default).put(`https://peapods-base.onrender.com/accounts/${a.id}`,e),localStorage.setItem("loggedInUser",JSON.stringify(e)),alert("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e),alert("An error occurred while updating the profile.")}}async function d(){localStorage.removeItem("loggedInUser"),window.location.href="./index.html"}async function c(){let e=JSON.parse(localStorage.getItem("loggedInUser"));if(e)try{await (0,o.default).delete(`https://peapods-base.onrender.com/accounts/${e.id}`),localStorage.removeItem("loggedInUser"),alert("Account deleted successfully!"),window.location.href="./index.html"}catch(e){console.error("Error deleting account:",e),alert("An error occurred while deleting the account.")}}document.getElementById("profileForm").addEventListener("submit",l),document.getElementById("logoutButton").addEventListener("click",d),document.getElementById("deleteAccountButton").addEventListener("click",c),window.addEventListener("DOMContentLoaded",a);
//# sourceMappingURL=profile.c9a15c41.js.map
