async function e(){let e=JSON.parse(localStorage.getItem("loggedInUser"));e?(document.getElementById("name").value=e.name,document.getElementById("username").value=e.username):console.error("No logged-in user data found.")}async function t(e){e.preventDefault();let t=document.getElementById("name").value,o=document.getElementById("username").value,n=document.getElementById("password").value,r=JSON.parse(localStorage.getItem("loggedInUser"));if(r&&r.id)try{let e={...r,name:t,username:o,password:n},l=await fetch(`https://peapods-base.onrender.com/accounts/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(l.ok)localStorage.setItem("loggedInUser",JSON.stringify(e)),alert("Profile updated successfully!");else throw Error("Failed to update profile: "+l.status)}catch(e){console.error("Error updating profile:",e.message),alert("An error occurred while updating the profile.")}else console.error("User ID is missing or user is not logged in.")}async function o(){let e=JSON.parse(localStorage.getItem("loggedInUser"));if(e&&e.id)try{let t=await fetch(`https://peapods-base.onrender.com/accounts/${e.id}`,{method:"DELETE"});if(t.ok)localStorage.removeItem("loggedInUser"),alert("Account deleted successfully!"),window.location.href="./index.html";else throw Error("Failed to delete account: "+t.status)}catch(e){console.error("Error deleting account:",e.message),alert("An error occurred while deleting the account.")}else console.error("User ID is missing or user is not logged in.")}document.getElementById("profileForm").addEventListener("submit",t),document.getElementById("logoutButton").addEventListener("click",function(){localStorage.removeItem("loggedInUser"),window.location.href="./index.html"}),document.getElementById("deleteAccountButton").addEventListener("click",o),window.addEventListener("DOMContentLoaded",e);
//# sourceMappingURL=profile.84c287de.js.map
